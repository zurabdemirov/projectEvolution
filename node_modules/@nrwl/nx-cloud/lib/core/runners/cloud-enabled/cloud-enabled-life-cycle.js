const a0_0xf2e5=['find','endTime','toISOString','target','collectTerminalOutput','cache-miss','local-cache-kept-existing','scheduledTasks','__esModule','obfuscate','hash','nodes','project','cache','task','statuses','getTerminalOutput','endCommand','implicitDeps','cacheDirectory','updateStartedTask','code','status','../../../utilities/serializer-overrides','startTime','CloudEnabledLifeCycle','cacheStatus','tasks','Cannot\x20find\x20task\x20','outputObfuscator','terminalOutput','runContext','../../terminal-output/read-task-terminal-output','startTask','endTasks','push','cleanUpHashDetails','scheduleTask','startsWith','local-cache-hit','params'];(function(_0x10a34f,_0xf2e5f){const _0x4a0861=function(_0x5a31ec){while(--_0x5a31ec){_0x10a34f['push'](_0x10a34f['shift']());}};_0x4a0861(++_0xf2e5f);}(a0_0xf2e5,0xa9));const a0_0x4a08=function(_0x10a34f,_0xf2e5f){_0x10a34f=_0x10a34f-0x0;let _0x4a0861=a0_0xf2e5[_0x10a34f];return _0x4a0861;};'use strict';Object['defineProperty'](exports,a0_0x4a08('0x3'),{'value':!![]});exports[a0_0x4a08('0x14')]=void 0x0;const serializer_overrides_1=require(a0_0x4a08('0x12'));const read_task_terminal_output_1=require(a0_0x4a08('0x1b'));class CloudEnabledLifeCycle{constructor(_0x4b66d6,_0x398881,_0x429751,_0x36da47,_0x18c294,_0x177fc0){this[a0_0x4a08('0x1a')]=_0x4b66d6;this[a0_0x4a08('0xe')]=_0x398881;this[a0_0x4a08('0x28')]=_0x429751;this['cacheableOperations']=_0x36da47;this[a0_0x4a08('0x18')]=_0x18c294;this['tasks']=_0x177fc0;}[a0_0x4a08('0x20')](_0x24fca7){this['runContext'][a0_0x4a08('0x2')][a0_0x4a08('0x1e')](_0x24fca7);}[a0_0x4a08('0x1c')](_0xe9825f){this[a0_0x4a08('0x16')][a0_0x4a08('0x1e')]({'taskId':_0xe9825f['id'],'startTime':new Date()[a0_0x4a08('0x26')](),'target':_0xe9825f[a0_0x4a08('0x27')]['target'],'projectName':_0xe9825f[a0_0x4a08('0x27')][a0_0x4a08('0x7')],'hash':_0xe9825f[a0_0x4a08('0x5')],'hashDetails':this[a0_0x4a08('0x1f')](_0xe9825f['hashDetails']),'params':(0x0,serializer_overrides_1['serializeOverrides'])(_0xe9825f),'uploadedToStorage':![]});}[a0_0x4a08('0x1d')](_0x3f683f){for(let _0x57d683 of _0x3f683f){let _0x174e3d;const _0x2d5e30=_0x57d683[a0_0x4a08('0x11')]==='remote-cache';const _0x504364=_0x57d683[a0_0x4a08('0x11')]===a0_0x4a08('0x8');const _0x658c4f=_0x57d683[a0_0x4a08('0x11')]==='local-cache'||_0x57d683[a0_0x4a08('0x11')]===a0_0x4a08('0x1')||_0x504364;if(this[a0_0x4a08('0x1a')][a0_0x4a08('0xa')][_0x57d683['task'][a0_0x4a08('0x5')]]){_0x174e3d=this[a0_0x4a08('0x1a')][a0_0x4a08('0xa')][_0x57d683['task'][a0_0x4a08('0x5')]];}else if(_0x2d5e30){_0x174e3d='remote-cache-hit';}else if(_0x658c4f){_0x174e3d=a0_0x4a08('0x22');}else{_0x174e3d=a0_0x4a08('0x0');}this[a0_0x4a08('0xf')](_0x57d683,_0x174e3d);}}[a0_0x4a08('0xc')](){}[a0_0x4a08('0xf')](_0x50a67a,_0x3baf08){const _0x127900=this[a0_0x4a08('0x16')][a0_0x4a08('0x24')](_0x15dec3=>_0x15dec3['taskId']===_0x50a67a[a0_0x4a08('0x9')]['id']);if(!_0x127900){throw new Error(a0_0x4a08('0x17')+_0x50a67a['task']['id']);}if((_0x50a67a===null||_0x50a67a===void 0x0?void 0x0:_0x50a67a['startTime'])&&(_0x50a67a===null||_0x50a67a===void 0x0?void 0x0:_0x50a67a[a0_0x4a08('0x25')])){_0x127900[a0_0x4a08('0x13')]=new Date(_0x50a67a[a0_0x4a08('0x13')])[a0_0x4a08('0x26')]();_0x127900['endTime']=new Date(_0x50a67a['endTime'])['toISOString']();}else{_0x127900[a0_0x4a08('0x25')]=new Date()[a0_0x4a08('0x26')]();}_0x127900[a0_0x4a08('0x11')]=_0x50a67a[a0_0x4a08('0x10')];_0x127900['params']=this[a0_0x4a08('0x18')][a0_0x4a08('0x4')](_0x127900[a0_0x4a08('0x23')]);_0x127900['cacheStatus']=_0x3baf08;if(this['collectTerminalOutput']){_0x127900[a0_0x4a08('0x19')]=this[a0_0x4a08('0xb')](_0x50a67a[a0_0x4a08('0x9')][a0_0x4a08('0x5')],_0x127900[a0_0x4a08('0x15')],_0x50a67a[a0_0x4a08('0x10')]);}}[a0_0x4a08('0xb')](_0x37fbe8,_0xc1b33c,_0x2b0b14){return(0x0,read_task_terminal_output_1['readTaskTerminalOutput'])(this['cacheDirectory'],this[a0_0x4a08('0x18')],_0x37fbe8,_0xc1b33c,_0x2b0b14);}[a0_0x4a08('0x1f')](_0x193c13){const _0x538183={};Object['keys'](_0x193c13[a0_0x4a08('0x6')])['filter'](_0x55084b=>!_0x55084b[a0_0x4a08('0x21')]('npm:'))['forEach'](_0x3dfa36=>{_0x538183[_0x3dfa36]=_0x193c13[a0_0x4a08('0x6')][_0x3dfa36];});return{'nodes':_0x538183,'runtime':_0x193c13['runtime'],'implicitDeps':_0x193c13[a0_0x4a08('0xd')]};}}exports['CloudEnabledLifeCycle']=CloudEnabledLifeCycle;