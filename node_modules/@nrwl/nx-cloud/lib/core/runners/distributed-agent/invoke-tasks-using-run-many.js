const a9_0x168b=['join','target','projects','VERBOSE_LOGGING','unlinkSync','projectName','parse','configuration','true','find','inherit','__esModule','next','child_process','\x20--parallel\x20--max-parallel=','then','value','DISTRIBUTED_TASK_EXECUTION_INTERNAL_ERROR_STATUS_CODE','assign','getNxCacheDirectory','__awaiter','note','done','../../../utilities/nx-imports','status','toString','env','\x20--projects=','forEach','invokeTasksUsingRunMany','apply','push','/tasks-hashes-','readFileSync'];(function(_0x42fd9c,_0x168bc4){const _0x2bd96e=function(_0x31a995){while(--_0x31a995){_0x42fd9c['push'](_0x42fd9c['shift']());}};_0x2bd96e(++_0x168bc4);}(a9_0x168b,0x17d));const a9_0x2bd9=function(_0x42fd9c,_0x168bc4){_0x42fd9c=_0x42fd9c-0x0;let _0x2bd96e=a9_0x168b[_0x42fd9c];return _0x2bd96e;};'use strict';var __awaiter=this&&this[a9_0x2bd9('0xd')]||function(_0x36f2be,_0x1bad43,_0x42c6f4,_0x213122){function _0x105d54(_0x30ae99){return _0x30ae99 instanceof _0x42c6f4?_0x30ae99:new _0x42c6f4(function(_0x686190){_0x686190(_0x30ae99);});}return new(_0x42c6f4||(_0x42c6f4=Promise))(function(_0x326cf1,_0x10da3b){function _0x36e406(_0x2b69d8){try{_0x4ddf31(_0x213122[a9_0x2bd9('0x5')](_0x2b69d8));}catch(_0x45e2c2){_0x10da3b(_0x45e2c2);}}function _0x50bde6(_0x1b3075){try{_0x4ddf31(_0x213122['throw'](_0x1b3075));}catch(_0x3907c3){_0x10da3b(_0x3907c3);}}function _0x4ddf31(_0x32dca2){_0x32dca2[a9_0x2bd9('0xf')]?_0x326cf1(_0x32dca2[a9_0x2bd9('0x9')]):_0x105d54(_0x32dca2['value'])[a9_0x2bd9('0x8')](_0x36e406,_0x50bde6);}_0x4ddf31((_0x213122=_0x213122[a9_0x2bd9('0x17')](_0x36f2be,_0x1bad43||[]))[a9_0x2bd9('0x5')]());});};Object['defineProperty'](exports,a9_0x2bd9('0x4'),{'value':!![]});exports[a9_0x2bd9('0x16')]=void 0x0;const environment_1=require('../../../utilities/environment');const child_process_1=require(a9_0x2bd9('0x6'));const fs_1=require('fs');const {output}=require(a9_0x2bd9('0x10'));function invokeTasksUsingRunMany(_0x5e9c02){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2d8331=completedTasksReader(_0x5e9c02);return function _0x97e12f(_0x1fec27,_0xcc791,_0x48756b){return __awaiter(this,void 0x0,void 0x0,function*(){let _0x415ea7=0x0;const _0x56af44=[];for(const _0x421f54 of groupByTarget(_0xcc791)){const _0x2e1036=_0x421f54[a9_0x2bd9('0x0')]?'--configuration='+_0x421f54[a9_0x2bd9('0x0')]:'';const _0x4c5508=_0x48756b>0x1?a9_0x2bd9('0x7')+_0x48756b:'';const _0x373334='npx\x20nx\x20run-many\x20--target='+_0x421f54['target']+'\x20'+_0x2e1036+a9_0x2bd9('0x14')+_0x421f54[a9_0x2bd9('0x1d')][a9_0x2bd9('0x1b')](',')+'\x20'+_0x421f54['params']+_0x4c5508;if(environment_1[a9_0x2bd9('0x1e')]){output[a9_0x2bd9('0xe')]({'title':'Executing:\x20\x27'+_0x373334+'\x27'});}try{(0x0,child_process_1['execSync'])(_0x373334,{'stdio':['ignore','inherit',a9_0x2bd9('0x3')],'env':Object[a9_0x2bd9('0xb')](Object['assign']({},process[a9_0x2bd9('0x13')]),{'NX_CACHE_FAILURES':'true','NX_CLOUD_DISTRIBUTED_EXECUTION_ID':_0x1fec27,'NX_STREAM_OUTPUT':a9_0x2bd9('0x1'),'NX_PREFIX_OUTPUT':a9_0x2bd9('0x1')})});_0x56af44[a9_0x2bd9('0x18')](..._0x2d8331(_0x1fec27));}catch(_0xd96e9b){if(_0xd96e9b[a9_0x2bd9('0x11')]===environment_1[a9_0x2bd9('0xa')]){throw _0xd96e9b;}else{_0x415ea7=0x1;_0x56af44[a9_0x2bd9('0x18')](..._0x2d8331(_0x1fec27));}}}return{'completedStatusCode':_0x415ea7,'completedTasks':_0x56af44};});};});}exports['invokeTasksUsingRunMany']=invokeTasksUsingRunMany;function groupByTarget(_0x100cef){const _0x4bfdfc=[];_0x100cef[a9_0x2bd9('0x15')](_0x262e74=>{const _0x10f213=_0x4bfdfc[a9_0x2bd9('0x2')](_0x11db6e=>_0x11db6e['target']===_0x262e74[a9_0x2bd9('0x1c')]&&_0x11db6e['configuration']===_0x262e74[a9_0x2bd9('0x0')]);if(_0x10f213){_0x10f213[a9_0x2bd9('0x1d')][a9_0x2bd9('0x18')](_0x262e74[a9_0x2bd9('0x20')]);}else{_0x4bfdfc[a9_0x2bd9('0x18')]({'target':_0x262e74['target'],'projects':[_0x262e74[a9_0x2bd9('0x20')]],'params':_0x262e74['params'],'configuration':_0x262e74['configuration']});}});return _0x4bfdfc;}function completedTasksReader(_0x467a5c){const _0x1f0eed=(0x0,environment_1[a9_0x2bd9('0xc')])(_0x467a5c);return _0x4aac8a=>{const _0x323207='Command\x20execution\x20failed\x20(distributed\x20task\x20execution:\x20'+_0x4aac8a+').\x20Tasks\x20hashes\x20haven\x27t\x20been\x20recorded.';let _0x51e2a1;try{const _0xc91583=_0x1f0eed+a9_0x2bd9('0x19')+_0x4aac8a;_0x51e2a1=JSON[a9_0x2bd9('0x21')]((0x0,fs_1[a9_0x2bd9('0x1a')])(_0xc91583)[a9_0x2bd9('0x12')]());(0x0,fs_1[a9_0x2bd9('0x1f')])(_0xc91583);}catch(_0x103be3){throw new Error(_0x323207);}if(_0x51e2a1['length']==0x0){throw new Error(_0x323207);}return _0x51e2a1;};}